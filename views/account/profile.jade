extends ../layout

block content
  .page-header
    h3 Profile Information

  form.form-horizontal(action='/account/profile', method='POST')
    input(type='hidden', name='_csrf', value=_csrf)
    .form-group
      label.col-sm-2.control-label(for='email') Email
      .col-sm-4
        input.form-control(type='email', name='email', id='email', value='#{user.email}')
    .form-group
      label.col-sm-2.control-label(for='phone') Phone
      .col-sm-4
        input.form-control(type='phone', name='phone', id='phone', value='#{user.phone}')
    .form-group
      .col-sm-offset-2.col-sm-4
        button.btn.btn.btn-primary(type='submit')
          span.ion-edit
          | Update Profile

  .page-header
    h3 Change Subscription Settings
    p This is where you can change what kinds of events you receive notifications for, as well as the time for when you receive them.

  form.form-horizontal(action='/account/notifications/events', method='POST')
    input(type='hidden', name='_csrf', value=_csrf)
    h4.col-sm-offset-1 Types of Events
    .form-group
      .col-md-offset-1.col-md-8
        .checkbox.checkbox-inline
          input(type='checkbox', name='meteors', id='meteors', value='true', checked)
          label(for='meteors') Meteor Showers
        .checkbox.checkbox-inline
          input(type='checkbox', name='solar_eclipses', id='solar-eclipses', value='true', checked)
          label(for='solar-eclipses') Solar Eclipses
        .checkbox.checkbox-inline
          input(type='checkbox', name='lunar_eclipses', id='lunar-eclipses', value='true', checked)
          label(for='lunar-eclipses') Lunar Eclipses
    .form-group
      .col-sm-offset-2.col-sm-4
        button.btn.btn.btn-primary(type='submit')
          span.ion-edit
          | Update Events
  form.form-horizontal(action='/account/notifications/timing', method='POST')        
    h4.col-sm-offset-1 Timing of Notifications
    .form-group
      .col-md-offset-1.col-md-8
        .checkbox.checkbox-inline
          input(type='checkbox', name='24h', id='24h', value='true')
          label(for='24h') 24 hours
        .checkbox.checkbox-inline
          input(type='checkbox', name='12h', id='12h', value='true')
          label(for='12h') 12 hours
        .checkbox.checkbox-inline
          input(type='checkbox', name='6h', id='6h', value='true')
          label(for='6h') 6 hours
        .checkbox.checkbox-inline
          input(type='checkbox', name='3h', id='3h', value='true')
          label(for='3h') 3 hours
        .checkbox.checkbox-inline
          input(type='checkbox', name='1h', id='1h', value='true' checked)
          label(for='1h') 1 hour

    .form-group
      .col-sm-offset-2.col-sm-4
        button.btn.btn.btn-primary(type='submit')
          span.ion-edit
          | Update Timing

  
  .page-header
    h3 Change Password

  form.form-horizontal(action='/account/password', method='POST')
    input(type='hidden', name='_csrf', value=_csrf)
    //-
      .form-group
        label.col-sm-3.control-label(for='oldPassword') Current Password
        .col-sm-4
          input.form-control(type='password', name='oldPassword', id='oldPassword')
    .form-group
      label.col-sm-2.control-label(for='password') New Password
      .col-sm-4
        input.form-control(type='password', name='password', id='password')
    .form-group
      label.col-sm-2.control-label(for='confirmPassword') Confirm Password
      .col-sm-4
        input.form-control(type='password', name='confirmPassword', id='confirmPassword')
    .form-group
      .col-sm-offset-2.col-sm-4
        button.btn.btn.btn-primary(type='submit', style="background-color: #42ff23;")
          span.ion-locked
          | Change Password

  .page-header
    h3 Delete Account
    p You can delete your account, but keep in mind this action is irreversible.
  form(action='/account/delete', method='POST')
    input(type='hidden', name='_csrf', value=_csrf)
    .col-sm-offset-2
      button.btn.btn-danger(type='submit')
        span.ion-trash-b
        | Delete my account

  //-
    .page-header
      h3 Linked Accounts

    if user.facebook
      p: a.text-danger(href='/account/unlink/facebook') Unlink your Facebook account
    else
      p: a(href='/auth/facebook') Link your Facebook account